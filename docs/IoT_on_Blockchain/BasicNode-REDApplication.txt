[{"id":"39b30de.c59e7f2","type":"inject","z":"ca98ad93.aeaf6","name":"iotsensor","topic":"","payload":"","payloadType":"num","repeat":"","crontab":"","once":false,"x":300,"y":340,"wires":[["f4e93d9a.af173"]]},{"id":"f4e93d9a.af173","type":"function","z":"ca98ad93.aeaf6","name":"Asset payload","func":"\nmsg.payload = {\n    \"$class\": \"org.poc.scbn.IoTDeviceReading\",\n    \"deviceId\": \"iotsensor\",\n    \"description\": \"iotsensor reading\",\n    \"date\": \"2017-11-12T17:50:29.455Z\",\n    \"time\": \"2017-11-12T17:50:29.455Z\",\n    \"altitude\": 10000,\n    \"accelX\": 1,\n    \"accelY\": 1,\n    \"accelZ\": 1,\n    \"latitude\": 33.675,\n    \"longitude\": 34.5,\n    \"temperature\": 72,\n    \"humidity\": 30,\n    \"eventCode\": 200,\n    \"shipmentId\": \"326750\"\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":511.9999771118164,"y":339.99997663497925,"wires":[["d22122bd.58772","bed58093.b4baa"]]},{"id":"d22122bd.58772","type":"debug","z":"ca98ad93.aeaf6","name":"","active":true,"console":"false","complete":"false","x":855.9999694824219,"y":340.99999725818634,"wires":[]},{"id":"858f49ed.aba728","type":"comment","z":"ca98ad93.aeaf6","name":"Debug Node","info":"The Debug node causes any message to be displayed in the Debug sidebar. By default, it just displays the payload of the message, but it is possible to display the entire message object.","x":855,"y":306,"wires":[]},{"id":"cbdf5024.b93f5","type":"comment","z":"ca98ad93.aeaf6","name":"Send Device Reading","info":"The Inject node allows you to inject messages into a flow, either by clicking the button on the node, or setting a time interval between injects.","x":308.99999237060547,"y":302.99999165534973,"wires":[]},{"id":"76c827dd.8ee208","type":"function","z":"ca98ad93.aeaf6","name":"Asset payload","func":"\nmsg.payload = {\n    \"$class\": \"org.poc.scbn.CreateIoTDevice\",\n    \"deviceId\": \"iotsensor\",\n    \"description\": \"Create iotsensor\",\n    \"date\": \"2017-11-12T01:50:29.455Z\",\n    \"time\": \"2017-11-12T01:50:29.455Z\",\n    \"altitude\": 10000,\n    \"accelX\": 1,\n    \"accelY\": 1,\n    \"accelZ\": 1,\n    \"latitude\": 59.675,\n    \"longitude\": 58.5,\n    \"temperature\": 72,\n    \"humidity\": 80,\n    \"eventCode\": 200,\n    \"shipmentId\": \"326750\"\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":509.1284408569336,"y":180.45484161376953,"wires":[["d22122bd.58772","bed58093.b4baa"]]},{"id":"26958b06.b79164","type":"inject","z":"ca98ad93.aeaf6","name":"iotsensor","topic":"","payload":"","payloadType":"num","repeat":"","crontab":"","once":false,"x":300.12845611572266,"y":180.56595611572266,"wires":[["76c827dd.8ee208"]]},{"id":"5ada855b.c979ec","type":"comment","z":"ca98ad93.aeaf6","name":"Create Device","info":"The Inject node allows you to inject messages into a flow, either by clicking the button on the node, or setting a time interval between injects.","x":299.1284484863281,"y":143.5659465789795,"wires":[]},{"id":"bed58093.b4baa","type":"http request","z":"ca98ad93.aeaf6","name":"POST to IoT Blockchain","method":"POST","ret":"txt","url":"https://iot-blockchain.ibm.com/api/v1/<your_org>/tx/iotsensor_device/UNUSED/CreateIoTDevice","tls":"","x":824.0001678466797,"y":180.00002479553223,"wires":[["d22122bd.58772"]]},{"id":"996fd296.381d7","type":"comment","z":"ca98ad93.aeaf6","name":"Add your own IoT Blockchain org","info":"Replace the org in the URL with your \norg.  Add your own IoT Blockchain \nAPI key you received when your account was \ncreated.\n\nUse the URL:\nhttps://iot-blockchain.ibm.com/api/v1/<orgid>/\ntx/iotsensor_device/UNUSED/CreateIoTDevice\nSubstitute your IoT Blockchain org for <orgid>.\n\nPlace your IoT Blockchain API key in the \npassword field, leaving use-token-auth\nas the username.","x":818,"y":140,"wires":[]}]
